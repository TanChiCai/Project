CLEAR COLUMNS
CLEAR BREAKS
CLEAR COMPUTES
TTITLE OFF

ALTER SESSION SET NLS_DATE_FORMAT = 'DD-MON-YY';
SET LINESIZE 2000
SET PAGESIZE 210
COLUMN BOOKING_ID FORMAT A10;
COLUMN BOOKING_START_DATE HEADING STARTDATE
COLUMN STARTDATE FORMAT A11
COLUMN BOOKING_END_DATE HEADING END_DATE
COLUMN END_DATE FORMAT A8
COLUMN NUMBER_OF_PEOPLE HEADING NOP
COLUMN NOP FORMAT A3
COLUMN BOOKING_PRICE HEADING BOOKING_PRICE(RM)
COLUMN BOOKING_PRICE FORMAT 00,000.00
COLUMN PAYMENT_STATUS FORMAT A15
COLUMN PAYMENT_METHOD FORMAT A15
COLUMN PAYMENT_AMOUNT FORMAT 00,000.00
COLUMN PAYMENT_DATE HEADING PAY-DATE
COLUMN PAYMENT_DEAD_LINE HEADING DEADLINE
COLUMN PAYMENT_AMOUNT HEADING PAYMENT_AMOUNT(RM)
CL SCR

ACCEPT p_month_year CHAR PROMPT 'Enter month and year (e.g., MON-YY): ';

TTITLE '                                                                       BOOKING AND PAYMENT INFORMATION ON ' '&p_month_year' ' REPORT ' SKIP 2;

SELECT B.Booking_Id, B.Booking_Start_Date, B.Booking_End_Date, B.Destination, B.Number_Of_People, B.Booking_Price, P.Payment_Status, P.Payment_Method, P.Payment_Amount, P.Payment_Date, P.Payment_Dead_Line
FROM BOOKING B JOIN PAYMENT P 
ON B.Booking_Id = P.Booking_Id 
WHERE TO_CHAR(B.Booking_Start_Date, 'MON-YY') = UPPER('&p_month_year')
ORDER BY B.Booking_Start_Date;

CLEAR COLUMNS
CLEAR BREAKS
CLEAR COMPUTES
TTITLE OFF

